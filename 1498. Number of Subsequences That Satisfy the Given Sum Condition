class Solution:
    def numSubseq(self, nums: List[int], target: int) -> int:
        n = len(nums)
        nums = sorted(nums)
        r = n-1
        ans = 0
        mod = 10**9 + 7
        val = [1 for _ in range(n)]
        for i in range(1,n):
            val[i] = val[i-1] * 2 % mod
        for l in range(n):
            while r >= 0 and nums[l] + nums[r] > target:
                r -= 1
            if l > r:
                break
            ans += val[r-l] % mod
        return ans % mod
